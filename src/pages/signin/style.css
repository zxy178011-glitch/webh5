:root {
    --img-bg: url('../../../public/img/signin/背景图.png');
    --img-mascot: url('../../../public/img/signin/卡通形象.png');
    --img-coins: url('../../../public/img/signin/金币堆.png');
    --img-card-active: url('../../../public/img/signin/翻卡2.png');
    --img-card-done: url('../../../public/img/signin/翻卡.png');
    --img-card-idle: url('../../../public/img/signin/翻卡1.png');
    --accent: #F05632;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box
}

html,
body {
    background: transparent !important;
}

/* 页面底层透明 */

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    min-height: 100vh
}

.overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, .5);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 999;
    padding-bottom: calc(env(safe-area-inset-bottom) + 8px)
} 

.modal-wrap {
    position: relative;
    display: inline-block
}

.modal {
    width: 330px;
    max-width: 360px;
    min-height: 406px;
    background-image: var(--img-bg);
    background-size: cover;
    background-position: center;
    position: relative;
    border-radius: 15px;
    animation: modalSlideIn .35s ease-out
}

.mascot {
    position: absolute;
    top: -19px;
    left: 60.5%;
    width: 136px;
    height: 99px;
    background-image: var(--img-mascot);
    background-repeat: no-repeat;
    pointer-events: none;
    filter: drop-shadow(0 6px 10px rgba(0, 0, 0, .12))
}

.header {
    width: 270px;
    position: relative;
    z-index: 1;
    padding: 18px 18px 0
}

.title {
    font-size: 18px;
    font-weight: 900;
    color: #2B2B2B;
    letter-spacing: .5px;
    text-shadow: 1px 1px 0 #fff, -1px 1px 0 #fff, 1px -1px 0 #fff, -1px -1px 0 #fff;
    line-height: 1.25
}

.subline {
    margin-top: 6px;
    font-size: 11px;
    color: #222;
    font-family: PingFang SC;
    font-weight: 400;
    line-height: 1.25;
    min-height: 1.25em
}

.subline .num {
    color: var(--accent);
    font-weight: 900
}

.amount-card {
    margin: 15px;
    border-radius: 17px;
    background: linear-gradient(0deg, rgba(255, 255, 255, .8) 42.72%, rgba(252, 224, 236, .56) 114.17%);
    height: 254px;
    border: 1px solid rgba(0, 0, 0, .06);
    box-shadow: 0 4px 10px rgba(0, 0, 0, .08);
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center
}

.amount-card-top {
    border-radius: 17px;
    height: 64%;
    width: 100%;
    background: #fff;
    position: relative
}

.amount-card-top-tag {
    position: absolute;
    background: linear-gradient(270deg, #FFC538 0%, #FCE98E 100%);
    color: #3C2E12;
    font-size: 12px;
    font-family: PingFang SC;
    font-weight: 600;
    padding: 5px 12px;
    border-radius: 3px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, .06);
    transition: opacity .2s ease, color .2s ease, background .2s ease, filter .2s ease
}

.amount-card-top-tag.fading {
    opacity: 0;
    filter: blur(.3px)
}

.amount-coins {
    height: 60%;
    margin-top: 8px;
    margin-bottom: 6px;
    background-image: var(--img-coins);
    background-repeat: no-repeat;
    background-position: center;
    transform: translate3d(0, 30px, 0);
    filter: drop-shadow(0 6px 10px rgba(0, 0, 0, .08))
}

.amount-hh {
    width: 100%;
    height: 27%;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 6px
}

.amount-num {
    font-size: 32px;
    font-family: SF Compact;
    line-height: 1;
    font-weight: 656;
    color: var(--accent);
    letter-spacing: .5px;
    font-variant-numeric: tabular-nums;
    font-feature-settings: 'tnum' 1;
    white-space: nowrap
}

.amount-unit {
    position: relative;
    bottom: -0.2em;
    font-size: 16px;
    font-family: PingFang SC;
    line-height: 1;
    font-weight: 600;
    color: var(--accent);
    transform: none !important
}

.amount-card-content {
    flex: 1;
    width: 100%;
    border-radius: 0 0 17px 17px;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 12px
}

.days-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    column-gap: 8px;
    row-gap: 10px;
    width: 100%
}

.day-item {
    font-size: 7.19px;
    width: 33px;
    height: 45.9px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;
    min-width: 0
}

.day-mini {
    font-size: 7.19px;
    width: 33px;
    height: 45.9px;
    border-radius: 9px;
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    border: 1px solid rgba(0, 0, 0, .06);
    box-shadow: 0 2px 6px rgba(0, 0, 0, .08);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    transition: transform .12s ease, box-shadow .12s ease, filter .12s ease, background-image .1s ease;
    padding-top: 6px;
    background-image: var(--img-card-idle)
}

.day-mini:active {
    transform: translateY(1px) scale(.99);
    filter: saturate(.98)
}

.day-mini.today,
.day-mini.active,
.day-mini.tomorrow {
    background-image: var(--img-card-active)
}

.day-mini.done {
    background-image: var(--img-card-done)
}

.dm-amount {
    height: 40px;
    font-size: 10px;
    font-weight: 500;
    font-variant-numeric: tabular-nums;
    font-feature-settings: 'tnum' 1;
    letter-spacing: .2px;
    color: red
}

.day-mini.active .dm-amount,
.day-mini.today .dm-amount,
.day-mini.tomorrow .dm-amount {
    color: var(--accent)
}

.day-mini.done .dm-amount {
    color: #B07B52
}

.dm-label-out {
    margin-top: 4px;
    font-size: 10px;
    font-weight: 700;
    text-shadow: 0 1px 0 rgba(255, 255, 255, .7);
    color: #9A8F79;
    text-align: center
}

.day-mini.active+.dm-label-out,
.day-mini.today+.dm-label-out,
.day-mini.tomorrow+.dm-label-out {
    color: var(--accent)
}

.day-mini.done+.dm-label-out {
    color: #B07B52
}

@keyframes pulseGlow {
    0% {
        transform: scale(1);
        box-shadow: 0 0 0 2px rgba(240, 86, 50, .18), 0 6px 14px rgba(0, 0, 0, .25)
    }

    50% {
        transform: scale(1.02);
        box-shadow: 0 0 0 4px rgba(240, 86, 50, .28), 0 10px 18px rgba(0, 0, 0, .35)
    }

    100% {
        transform: scale(1);
        box-shadow: 0 0 0 2px rgba(240, 86, 50, .18), 0 6px 14px rgba(0, 0, 0, .25)
    }
}

.day-mini.tomorrow {
    border-color: var(--accent);
    box-shadow: 0 0 0 2px rgba(240, 86, 50, .18), 0 6px 14px rgba(240, 86, 50, .25)
}

.day-mini.tomorrow+.dm-label-out {
    color: var(--accent);
    position: relative;
    padding: 0 6px;
    border-radius: 6px;
    background: rgba(240, 86, 50, .08)
}

.day-mini.tomorrow.pulse {
    animation: pulseGlow 1.6s ease-in-out infinite
}

@media (prefers-reduced-motion: reduce) {
    .day-mini.tomorrow.pulse {
        animation: none
    }
}

.btn-row {
    display: flex;
    gap: 14px;
    justify-content: center;
    padding: 0 18px 10px;
    position: relative;
    z-index: 1
}

.btn {
    flex: 1;
    min-width: 0;
    height: 44px;
    border-radius: 24px;
    border: none;
    cursor: pointer;
    font-size: 16px;
    font-weight: 900;
    color: #fff;
    box-shadow: 0 8px 18px rgba(240, 100, 30, .25);
    transition: transform .12s ease, filter .12s ease
}

.btn:active {
    transform: translateY(1px);
    filter: saturate(.95)
}

.btn-reset {
    background: linear-gradient(180deg, #FFDFA0 0%, #FFB74D 100%);
    color: #6B3B00
}

.btn-retro {
    background: linear-gradient(180deg, #FF7B4A 0%, #F05632 100%)
}

.btn-normal {
    border: 1.09px solid;
    border-image-source: linear-gradient(180deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 47.42%);
    background: linear-gradient(180deg, #FF7B4A 0%, #F05632 100%)
}

.btn-normal[disabled] {
    opacity: .7;
    cursor: not-allowed
}

.btn-retro-done {
    background: linear-gradient(180deg, #FF7B4A 0%, #F05632 100%);
    opacity: .9;
    cursor: not-allowed
}

/* 自定义外部关闭按钮 */
.outside-close {
    background-image: url(/img/public/取消按钮.svg);
    background-color: #00000040;
    background-size: 100% 100%;
    background-position: top center;
    background-repeat: no-repeat;
    position: absolute;
    left: 50%;
    top: calc(100% + clamp(8px, 2.5vh, 16px));
    transform: translateX(-50%);
    z-index: 1001;
    width: 26px;
    height: 26px;
    border-radius: 50%;
    color: #fff;
    font-size: 18px;
    font-weight: 900;
    line-height: 32px;
    text-align: center;
    border: none;
    cursor: pointer;
    box-shadow: 0 2px 8px rgba(0, 0, 0, .25);
    transition: background .2s, transform .2s;
    margin: 0;
}

.outside-close:hover {
    background: rgba(0, 0, 0, .6);
    transform: translateX(-50%) scale(1.05)
}

@keyframes modalSlideIn {
    from {
        opacity: 0;
        transform: translateY(42px) scale(.92)
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1)
    }
}

@keyframes modalFadeOut {
    0% {
        opacity: 1;
        transform: translateY(0) scale(1)
    }

    100% {
        opacity: 0;
        transform: translateY(12px) scale(.98)
    }
}

.modal.closing {
    animation: modalFadeOut .22s ease forwards
}